Select * from __MigrationHistory;

--INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
--VALUES (N'201610150945216_AddIngredientNameIndex', N'Recipes.DAL.Migrations.Configuration',  0x1F8B0800000000000400ED5B596F1B37107E2FD0FFB0D8A7B670B4B6D302AD21257064BB101A1FB0E4A07D0AA8DD914C84CBDD905C4342D15FD687FEA4FE850EF7D2DE8764D96E1018302C1EDF0CE7E27046FEF7EF7F866F572E331E4048EAF191793438340DE0B6E750BE1C99815ABCFAD97CFBE6DB6F86E78EBB323E24EB5EEB75B893CB9179AF947F6259D2BE0797C8814B6DE1496FA106B6E75AC4F1ACE3C3C35FACA3230B10C2442CC318DE065C5117C20FF871EC711B7C151076E939C0643C8E33D310D5B8222E489FD830326FC1A63EC8C1D9E97BD3386594200B53600BD3209C7B8A2864F0E44EC254098F2FA73E0E10365BE39691B9204C42CCF8C96679D7331C1EEB33589B8D09941D48E5B93D018F5EC742B18ADBB712AD990A0DC5768EE2556B7DEA50742373C297021C0A5C994691DCC99809BD3427DB410841F1C366EB81915970905A031A8DFE3930C60153818011874009C20E8C9B60CEA8FD1BAC67DE27E0231E3096651319C5B9DC000EDD08CF07A1D6B7B04898774CC3CAEFB38A1BD36D993DD1A1265CBD3E368D2B244EE60C522BC80860AA3C01BF0207411438374429105C634028C712F5022DFD3BA1866687AE631A9764F51EF852DD8FCC1F7F4267B9A02B70929198833B4ED1D370931201547058A07A451EE83264B878D6544377922C419AA827162E94F7D48FDC635058F4316B1117C2736F3D5686CAACFA38236209B878E6B52E9D7A81B00B07185A1BA3EC68AA21EE0EF61AEEFF6AB435B45231B5536D469A06F331B2B0F4C4BAC10BF0CF4E5ED04CEB4200CC60A5F64E28329ADEA2E9E0A3FBF1CEC4E53A7867E2C85D598F4451C97634F5B11C80363CD72C298593BA753BC59284F59E21241AFC1A39AA69CDA8624DF7DDE338E0C445F5DF09B677423702FC1926A3137E4979A0B4F5EE120DC79EF7E911E126F203A09F1041094F90DE79E831FA634FACC89CFFA0C09CBD4B757C0F8B27509DB714C475A125037B248BE41297D961087C7C62BB65773B04E2E2CDD116B0BB04E253293D9B864C569F227BC1E5E570CE1DA3FB6D1729A1E20645956078A63E0664E46F64FE5012782742E92D5545A848E3C82C06F76B7E060C1418A776F42E1C136913A7AC7D94A3931FC1FB00840EC884E1F3182D8F50AECA9707E5A82DC23A9FA480D0F102D21CA6B48A3367E003D7774767BD756222979F96D949A91604D926B7A19531CE669BAD73AA3A3B6AF5B08D112589C91E0DA89DAF46E3EEE8455B99698BA09EC0465B44D28583CD0BE1098C330AB3B847E10E10310BA7BEAF87C2F75029C5BD931067B932BE728AF6A121A7A04A0E87D7C626AC5744BD5220AD034A2EA106B4D8CC5A20E344BC022971A40240468CB58CE51E59990DED4FB2A2BE7BDD59E9D9AA245532A55EB754257409356764B8B883E46AD38BB2D83A05CD5E613373AAD40E1AE4D416ED7AC8BF415249E693BAE4A6666D4545EBA4B86DD554B78797C4F73179CC54BBE311631A95BAC7AFA6FD4BC16E8461D9B2A2229C729B52C2A7209EBC30AB5F310E5C5021D51951644E74FA3A76DCD2B24C00AA71E0845039C6943598B876B247FF9DF3FFF0955EEF871B095EE0A15C1DEDC3A76EA5C6CB9BC37603614454BCADC71E0B5C5E7FF5D4EF8E9E26D9FDD14819616815B82F5D2B2511957280BCD47BEAA4D653FB2A260AEABB68A706613F2ACAA79A399CC624B41E315712CD02E626BAE36DCA9E59B0CD6877A44DD69245AACF659ECD2C9350BFAD35C689417F23ACDBB81FDB8B8B69598078A887FDA6A5B21C1FE96877A48A5A5816B262BA3B7645612C8B5D31DD4302B92A594E0AB999BE7E12D7CACAAE124FF4387D580FCB1D381CE9A39B5CB12BAF97DC549FC8972D69E5235F76E689A34229B92A2E49A9A7495621991AC6894DFBF7094A994EB4C43450540FD4D159CE742D15B803BD6030FDCCC62C7A32240B2E09A70B902AAAFA9BC78747C7856F26BC9C6F0958523AACF357059EBC7941B55C5BDB133DCBDED9E2307F20C2BE27A2E2BD3CC107FB6A64FE19EE3A3126BF675F587AECC098C83B4E3F07383BC3F7B4F157B9CDDFC8DAD62DF02F430F551D675AF9859426554C9C03E35AA0DB9D18875A03BB37AB139BF8CE25ABEFB380DB34A477022B369DBB4A27D9D743327D5BA85F8609E65A973BA9AAD89EDC09ACB605190AE1B11A90DB8055B51FE7B43F4E45EB71278965DB8B3B8ABEA285B89B6554B4097B003E514BED395A5AB5B5CC676841345691F6DD12FBB21B60CFD7E87A7EB3AAAD3ABC08937A012DAB7261B96B33A9A529153DDB46A633F750EF5174DDBE69D5A567D54CB14F63ABA1AF5545E4C5F6BC6A9A2B7DDA5A4DFD99FF4723ABA261F50C02E8D19F2A974AD0EB33FFA081A147D2E50642FFBB06073BE7EFE99A095F7849E02970942C29E44B97985E3A180C4E85A20B622B9CB641CAF06B551F080B70C9B93B0767C2AF03E5070A8F0CEE9CE5EAE73A7C35D10F9B70799E87D77E98A23DC611904D8A47806BFE2EA03AC38DF9BEA87877D540E8B8183F74B42E957EF02CD729D295C73B02C5E24BC3F90C5C9F2198BCE653F200DBF07627E13D2C89BD4E2A5EF520ED8AC88B7D784689CEBF658CB1D98F1FD1861D77F5E63F71701EC3A7340000 , N'6.1.3-40302')

--INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
--VALUES (N'201611032026014_Add_RecommendationUsed_Table', N'Recipes.DAL.Migrations.Configuration',  0x1F8B0800000000000400ED5CDD6EDB3816BE5F60DF41D0D5EE221325E92EB01BD82D324EB330A6698ADA2976AF0A46A21DA212A591A820C6629F6C2EE691E615E6507F96F8235192ED7882A240D148E4C7C3C38F8747875FFADB2FBF4EDE3D07BEF584E38484746A9F9F9ED916A66EE811BA9EDA295BFDF04FFBDDDB3FFF69F2DE0B9EAD2F65BB37BC1DF4A4C9D47E642CBA749CC47DC4014A4E03E2C66112AED8A91B060EF242E7E2ECEC5FCEF9B98301C2062CCB9A7C4E292301CE7E801F67217571C452E4DF861EF693E239BC5964A8D64714E024422E9EDA9FB14B229C9C5E5F7DB0AD2B9F20306181FD956D214A4386181878799FE0058B43BA5E44F000F9CB0D7499DA2BE427B830FC72DBDC740E67177C0ECEB66309E5A6090B839E80E76F0AA73862F741AEB52BA781DBDE837BD986CF3A73DDD49ED3758C3D8229B32D71B8CB991FF3A60DDF9E6610047ED8763DB16A0D4E2A360069F89F136B96FA2C8DF194E294C5C83FB13EA50F3E717FC29B65F80DD3294D7DBF6E26180AEF1A0FE0D1A7388C70CC369FF1AA34DEB32DA7D9CF113B56DD6A7DF249CD297B73615B1F6170F4E0E38A0535072C5818E37F638A63C4B0F709318663CA3170E6476974612CFE77391AD00EB68E6DDDA2E70F98AED9E3D4FEFB3F60B3DC9067EC954F0A0BEE29819D069D589C628585C2A81FD1135967068B73AD56E83E416B9CD8B04E7ED630792451BE3D4E85465FEB8CB889C3E073E8CB50B5565F97285E6368BC0C3B9B2EC2347685094C9C2D290DA99AE18EE06BD6FF3B693563556EEA1EB51D69913ECCC08475186F5A7601FCD36817B48F751363BCC4CF6CEF03E5A4E9ED1A833DBA9FDD596E3983DD596E6453D3735728CDCE5F7D9503D0D6664D13299CE8DA8D8A25A5E93D4348FEF07BE4508FB524CC6F3BEF76B301E7012CFF7DECEF7DA04F318E96908CCEE92DA129E3EC1D130D6761F86D8770F3E40B867D8262826889F463083B86FFD8132BA7F37F09F6BDBD7B75F688570758BA701DA320C01D19D88E18491368E6662170F7838DCBEE460462F1E4E80AD843037108EB44BDCC70F83CF386046501E27B80568F754D92C8471BEC0D4C62C4AD0C3EFBB62B301E1A138682A884B98629F2872372AB8681BAED2170E7ABD0A9B14F5ADBAA364C7B87BE0997B07EA63392BAB5CE49686D322BB14B9F88709524A14B322C755CABA7BC4D3FBDA79E659EFFE661599153439086784022581AB06F6AFF4D5A10A381AABC55359038C6B9340644111CF36D8CFC59C80F14442893430EA1E061E41B9B232018862DBE5CD558E29B6B1CC1EAC318C6CE3732A2F1D9299B538D2AC4D72EBF4D9C1AC3DA89A73B2B7564E83C38B74C28775E170BBAC15B6966C8E7415CEB98ED0188D6E112130BB667D54B31ACFDB8696183E1D9D3E09C945A99473AE3C36B00CB87F2CFC8A0C310D168354C4C9192A86321A69835F4208A3685D823397539C80BD25363D2CB1054B32626C6283E1B0E40D23C5D843E0C7AE0B8B0E52A8AF8A3ACD22B7D27C2448B4FC5A4F8981609C42117984939077C106FD35345F626315107547E5EB7A01587740764F105AB402A69DC0D2070400326ED4301B8B63EDA1937EAD2B50EDD556C9148BD92FA6ACEAA259038DA2B8D57424BA80DF6426303CF692B32B2DB8C12D25E29696D5615C15AFCD49584F6F0FF304F757C9C2B5DD623C31A9663359D286FB276879A6555DD0BB51B874AB5012397B6E60643B383DDBA55970F8C726C59C4A84EA5AD20C5C91529A572C5D1485726B7288A085DD7A42CC5136B91EB58663F2CFAEB3C821CC3711385DCA3B2B61A898531EC51E12DBFA2F0F00D8913768D187A40BCD436F302A959ED0CD61C41E540F2312BAF617920957DF8BF1B476056EDD59F185B0FDEC0A4029E04656552656C923B675A22E4A35851979D857E1A507D46A6EF9DDF3BD4FBE74F64848923582F6556928B04B68A5EEFB926DA33A5EFC2E479CD98D5D120EC67899A05A7064E6B294A8FD8D03BD4011B2FCCF1B69A863AD8F6A939D23671AF23E9D3F917A365199287B2517D1E199050D7713FDC2B6ECAEB00C5A31EFCADEEC11B76544FCD911417DD7548C56B736CC5AD771D5BF1BA87071A57E00D2F34DEF4DD27C545B8BC558A173D669F5D7637269C3DE9B3368D9BECE6BA345EF5897CF5FBEA66E4ABBF39A6A820A583232284F8C13B285A7482EC2772286A31753083528D1E5B2A453688DB55A7D4E3D6AE769B11AF7A7C60A64969BCD8A41ABD4AE785B47D52A4D0DDB27429A7CE9BD81638E989783C9F5E6C12868353DEE074F1B30F9ECECA2865835B44C90A3C956B13EC8BB3F30B41E07E3C627327493C5FF109A2569C3757EC00120BC2FDDA29A2E8A95CA86B8CE8138ADD47142B8A9373EAE1E7A9FDBFACD7A535FF4FBDEAC49F9D58F3E49E929F5378BB8C536CFD5F568BB79A365849FD3AD641255C26CADF6B685B8AB97762DDC5B0ED2EAD33BE02E335CF2527FE12A0E7BFD60187E89A4781894A1D53EF94FD7A78A6AF12F77550B0A1801DB554A2CA75149856C99A3961573AD621602A15EB03E98FA350B08EF2585DA53AD2F50A25EA386628D4A63D00C728335FC726D5AA204DC3A10430EAC4D0A8284D8D11BA8F3245D260C2DA63D6ADC13C90B66FB0B64E7BF1F70232AAD642F6BEB579AF5B89375271F7F2DCD0562F8F8217C7275132D6CE8D27874A273152CE74E414312A94BD4E3DDB77BA1C8C2EC7A42D93AFBF35D569C5AFEEB6AAC7F2921FA4530F21D0204FA386ABCB4CC465ED23F651A0B508D054830C16A7196AD334631EBF864D2396EA23536BD35BFD3184690AF9CD7139E0C07AB3012ED1EF1CDDCDD41F55377664CEE9A1FD922F87E0ACAAFDCF4670782664BD85E0FFCF11C56EE394AADACCE92A2CCF4DC1A2B289F0197F8B198229A2AB9891157219BC76719264BF8FFC05F92934791F3C606F4EEF5216A50CA68C8307BFA14DE1876EDBF899C0AD69F3E42ECA8A52BB9802984978F1E18EFE98125ED32BECBE51141F3410FC342FAA467C2D19AF1EAD3715D2C7901A0215EEAB9290250E80C40C277774819EF010DB807A1FF01AB99BF28E4F0FD2BD104DB74FAE09E215C7A4C0D8F6871F81C35EF0FCF67746EC8E9EE04B0000 , N'6.1.3-40302')

--INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
--VALUES (N'201611081753383_Add_RecipeTFIDF_Table', N'Recipes.DAL.Migrations.Configuration',  0x1F8B0800000000000400ED5CDD6EE33616BE5FA0EF20E8AA5DA4717EB6C06E607790712685D1C964307606BB570346A21D62244A15A920C6A24FD68B3E525FA1A4FE2CFE4994643B9E2028508C25F2E3E1E1C7C343EA63FEFAE3CFF19BA730701E6142508427EEE9F189EB40EC453EC2AB899BD2E58FFF76DFFCFCDD3FC6EFFCF0C9F95C963BE7E5584D4C26EE03A5F1C56844BC071802721C222F8948B4A4C75E148E801F8DCE4E4EFE333A3D1D4106E1322CC7197F4A314521CC7EB09FD3087B30A629086E221F06A478CEDECC3354E703082189810727EE27E8A11892E3ABCBF7AE731920C04C98C360E93A00E38802CA0CBCB823704E9308AFE6317B0082C59A5599B84B101058187EB1296EDB879333DE87D1A66209E5A584466147C0D3F3C22923B97A2FD7BA95D398DBDE31F7D235EF75E6BA893BC3AB04FA0862EA3A727317D320E14505DF1E671088FDD8543D726A058E2A3630D2F0FF8E9C691AD03481130C539A80E0C8F998DE07C8FB15AE17D1578827380D82BA99CC50F64E78C01E7D4CA2182674FD092E4BE37DD71989F54672C5AA5AAD4EDEA919A6E767AEF381350EEE0358B1A0E680398D12F80BC4300114FA1F01A530C11C03667E545A97DAE2FF2F5B63B46353C7756EC0D37B8857F461E2FEEB273659AED113F4CB2785057718B199C62AD124851A0BA5563F8047B4CA0C96FB5A8DD01D012B485C364E4156903CA0389F1EC752A12F75465C2751F8290A54A85AA92F0B90AC202BBC885A8BCEA334F1A40E8C471B525A5235C31DC0D7ACFE2B690D6D556E6A6FB519699EDE4F9909AB285937CC02F64FAB59D0DCD67502E1023ED19D379493A6B36B2CE6E86E666739E52C666739916D4DCF5DA1353B7FF5450D401B9B0D459470622A37289694A6770C21F9C3D7C8A16F6B8168D0B4DE6D6702CE4236FC7749B0F3863E26305EB06474866F104E2967EF9068388DA2AF5B849B91CF90CD139020804BA4B7119B31FC6747AC9CCEFF4330F077EED5E9035CEE61E8A25502C210B664605B622426AC989785C0ED37362CBB1B1088E595A32D600F08C48BEBD9D575CF689CD57D0DC94D337B6822570CCF8EA751D6CAD97E9A39DF72335DF81EB1B884FD6C78EF08F4FBD05E827865BFBEAD2B44E200ACA1BF9D6930653EFBBA2D309E0A100AC2B884B9625DE40F07EC2504034DCB81C49D2F5225615D682CAB5B209A2B74DD6048E367DB23A55A639FA4D236BD92AB7459012F09893C9461E9D7F1FA164FF4D33BEC3BF6FBBD3CBC69F6902CD8B17880623634CCBE89FB4F6540AC1AAAF669BA86E4364E9536581481099FC62098463C8102085335E420CC3C0C026B732404CBB0C587AB6A4B7E73056336FAAC0D6BE75B19211CB3A8E654AD4AF1B5CD6FE3518D61CDC433E5862632B4268A1B269433AF8D05EDE08D34B3E4732FAEB5F4760F446B71898D059BB5EAB918D6BCDC34B0C172ED1138A7A456F691CE7AF1EAC1F2BEFCB332683F44B41A0D1B539424EA508829670D1D88624C2176484E530EF28CF43498F43C04358C898D319A6DC31E489AA78BAC0E65356052D87219C7FC51F66543D927B28E165B45526C4A650271C839A44ACE415C67939E6AB237858926A0F238A901AD58A45B208B1DAC06A9A4B11540B6BB37A3142719ED50129D0C88CA9496806B436D749EF049A756A1FD0390CCC94EFB83AACFBAD154E8DE6947A08556508589C00A5B78CE7898A9BACD2AB7ED94DDD67A5571B5C14F6DF96C07FFF7F354CB3E5FEBB20EC95ABF744D74A23AC99A1D6A97A0B50FD4761CAA1C3358B9B431CDE89B686CD7ADA6D4629063CBF3906A81ABDE8D47B998AB78301E19545FE31B10C708AF6A2AB0E28933CF2560D31FE7DD2552618E31F288462955595BB544A384CD51E92DFFBAE7C36B94107A0528B807FCD46EEA874AB1DA726E5882CA86D4155B1DC372412AEBF07F0BAB6976706C5E31361EBC669D0A793E959DB86A63935AD9E1323C10804473C43B8D8234C4E6E4CE5C3BFF6457AF9F3F5111C623C97A2549535C24B155F67AC73131AE295D07264F91868C8E01613743249E5D09388DA75A6644412A5407145ED8E36DE44075B0CD537BA4CD1EA08E64DE193C1B2DCB90DC978DFAF5C88284A68ABBE15E2132A903148F3AF0B792900876544FED91341A913AA4E6B53DB6463052C7D6BCEEE001413D22784178D3759E141A1275AA142F3AF43ED389081DCE9E74191B4104228E8BF0AA4BE4AB4B3DC4C8577F736051A1D8150F0B0DF9DEB96F7C30D4DE4D90E81EB48DE1263F3010C28DEE0CA115E34C0372D619E55C83727E587453761F0358279FAFF4225F2BC86E38A83945AC83591C329AB1954374214EB69DB037706C234A1017D8EAF19E99A6EC1AE52255EBD5EE51DA258E8B1D5BFB0522650B9717711DE6A447E4F3EDDB7C4D280C8F7981E3F96F01F374766A5716B801182D99A772558D7B76727A265D453A9C6B412342FC40B3E3D5DF0D12476C0FE220C4FDDA2AFFE9A8B9A9AB41F12348BC0790688ED567D8874F13F7FF59AD0B67F6DFFA21277F76E4CCC81D46BFA5ECED2249A1F3BB7AAFA7D1B4DE775E5EC638E8AE9820ED0DB4A6A198F947CE6DC2A6DD8573C24760F8ED949213DF87E0E9873A609F1B2883C0648D99AD77CA7A1D3CD3F5CEC4CBA0A0705761D050C9F711068119EF1C644ED8D68D833E60BAFB06F7A83B8EE6AEC1208FD5EF130C74BDE6CEC0306668EE057400ECA5A17F19B3531BFE8688D6078DA3284C1F0E75BE6332346E78BE594E18C5DCB66BA30230287D3088C16D8D91AA0F32459192B3B187B45D4ABE2789726F89B05174F00C6AD0C68F68BB9618BF6C41F140E1F0F373C3F8E5E4207871784A4B6B09F07072E8345A035599074E11AB53D39729CB7DA5CBDEE872481259557A63F854A11E6B368B60F3F35F964EDD478C06791AD55F246BA3916D6EB18B90B64147AB6BA4BBC6B64D626B6EA5AF06D752826B68F8F0A5BA064D6817356E93ACF4DBD0DF6A548687E5803DCB6A7BB8C43C734C5F44BF5579EC8139A783C455FD28C996C5DADF3E64EB3441AB0D04FF4B88187AC282589599E165542ED192456511E9C4E00652C0BA082E138A96C0A3ECB50709C9FE12C26710A4ACC8BBF01EFA337C9BD238A5ACCB30BC0F04091E5FDF9BDACF74BCA2CDE3DB383B0CDD46179899889F73DCE2B729E267C985DDD79A730E03044F1C8A032A3E96941F54ADD615D287085B0215EEABF29D050C19892924B7780E1E611FDB18F5DEC315F0D6E5B7653348FB40886E1F5F21C04FBA4981B1A9CF7E320EFBE1D3CF7F031288B72202540000 , N'6.1.3-40302')

-- tell EF that initialCreate was already applied, so that it kwnos what is the ast state of DB
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201611201846474_InitialCreate', N'Recipes.DAL.Migrations.Configuration',  0x1F8B0800000000000400ED5C5B6FE336167E5FA0FF41D053BB48E35C7681DDC06E913A93C2E86432183B83DDA780916887188952452A88B1D85FD687FEA4FD0B4B5D2DDE2452B21D27080A14635E3E1E1E7EE7E8903CCCFFFEF873FCF37318384F302128C213F7F4F8C47520F6221FE1D5C44DE9F2C77FB83FFFF4DD5FC61FFCF0D9F95AB53BCFDAB19E984CDC474AE38BD188788F3004E438445E129168498FBD281C013F1A9D9D9CFC73747A3A820CC265588E33FE92628A4298FF603FA711F6604C5310DC443E0C4859CE6AE639AAF3098490C4C08313F70BF4500CC9F1D5E547D7B90C106022CC61B0741D8071440165025EDC1138A7498457F398158060B1665D26EE12040496825F6C9A9BCEE1E42C9BC368D3B182F25242A3D012F0F4BC54CA48ECDE4BB56EAD34A6B60F4CBD749DCD3A57DDC49DE155027D0431751D71B88B6990644D39DD1EE71088FDD8743D721A0D8E6A3630D264FF1D39D334A069022718A63401C191F3397D0890F71B5C2FA26F104F701A044D3199A0AC8E2B60459F932886095D7F81CB4A78DF75467CBF91D8B1EED6E8534C6A86E9F999EB7C6283838700D62C6828604EA304FE0A314C0085FE6740294C708601733D4AA30B6365FFAF4663B463A6E33A37E0F923C42BFA3871FFF677662CD7E819FA554929C11D46CCD258279AA45021A130EA27F08456B9C0E25CEB15BA23600589CBD629C81B92471417E6712C34BA6F32E23A89C22F512043355ADD2F40B282ACF122EA6C3A8FD2C41326301E6D486948D51C77005FF3FEEFA4D58C55ABA97BD476A479FA306522ACA264DD6205EC9F4656D03ED67502E1023ED39D0F5490C65A350636BA1BEBAC4CCEC03A2B433615BD508552ECA2EA5E76401B99354D2477A26B37C89754A25BBA90A2F0DD73A8C75A201AB47DEFB66380B3902DFF5D12EC7CA0CF098C172C189DE11B84539AB17788379C46D1B72DC2CDC857C8EC042408E00AE99788594CF6D312ABA0F3BF110CFC9D6B75FA08977B58BA68958030841D11D8961889096BE6E52E70FB830D8BEE063862F1CBD1E5B00738E2C5F5ECEABAA737CEFBBEBBE436CB1E1AC895CBB36333CA4739DBCF30E77BB4D3CE302997E8BE6A261A66B35663935C93A1E61831B789FD5CD23B02FD3E562940BC1BA77AAC2B44E200ACA1BF1D2B9D329D7DDB165816A9100AC2B882B96253CC0A076C75380175F62070E75EE8C459476B5B95ADB477B0DDFF08EB673A23A95BEB9C84D626B312BBD878844B42220FE558EA30A3B903E5F5F401FB8EF976B4F0BE8A2D2EF3C5CC1FA0982D0D936FE2FE555A10A381EA6DA46A20718C53690CE6456092993108A65116DF0184A9EC7210661A0681B1380282A1DBCA96AB1E4BACB982315B7D3686B1F28D84E04E816471EA5105FFDAA5B7F1A8C1B076E2E942571D193AE3D80D132ACBEB624137782BCD0CF9DC8B6B1DB3DD03D13A546222C1E65BF5820CE3C2AFF6F557C76222AFCA70D9DC8DB544713D483B804E2A11F6C62495725F0789DA63969655370C60380E48F1B915CFCC22A03DB2CE48A0FD70D068354C449122F14321A6187A5A10451B87EE909CBA40F605E9A911E96508AA59131361147BCF3D90B4D873B03E94F5804929CB651C6745F9ED9D74D8C0265A9E3790F2E0452450063987540A5C89EB6CF6388A2D80C4441D507564DA8256467A1D90E5318802A9A2B11140FEA1D4A394E147379440270DA264D2027063A9B5CAE3AE2D1B1DBA2F39454E5A6D32EB39AB5653A2BBD5B652092DA17286C01A1B684E7B602FABCD688364B5456ACCAAE66A8B9EBA364516FAEFAD29FEF054A7247D8C6F1AE54BAAA9ACB0533FCAB8BE5BD3FD34D2717CA6D48F45F8DA2F80E5272BBB9D76159A85ACFB52A8747A67A4D2D6C0AB6FE8B55DB5EA82AD418AAD8E19EB4F7E5D371E15299C65C178A4C9F51CDF80384678D5C8FD2C4B9C7991F839FD716E9F18191618238F28F2236B69EB91689430AF25D46677FA3EBC4609A157808207901D864FFD506AD60870341FE56A20398691D7B0FA44577DB27F73F1457E1FA3FF866E3478CD26156611667E91A1F4D67267274BBE050148143727D3284843AC0F77F5BD8B8BFA66FFA24446188F04E9A5B0555291C05651EB966BA2FDCADA2E4C11340E591D0DC26E96883F12E6705A0F8BF5885C82601390AB30C7DB240136C136A5E6489B5D511349BF577A315A562EB92F1BD5DF230312EA3AEE867B656A5913A02CB2E06F9D38C6C951979A232932C39A908A6A736C459A58135B516DA1012E678CD30257636B2765E6986C2A6585C5ECF3EC306EC27989CDDA70A95FFCBA7055369EAF99E0C57BBE66CD817985728732CC3514A7097DFD83A6F76E9C84BDD3D6BA9BE208857337AA53954E8C3305C89935CAB902E5FCB0E826ED3E06B04E3C71EA45BE4E90DD705071AEDA04333876D5634BD70A9C9FECBA7368E1D826D787FFC0D6C57B669AB46B149BD4A3D7BB476197382E776CDDCF06A52D5CD1C47598929E909F6DDFE66B4261789C35389EFF1E304DE7E79855831B80D19269AA485673CF4E4ECF84078887F3187044881F2876BCEA1781FC8AED21E70E657AEDCCAAB34C656BE680E32790788F20515C34CCB00F9F27EE7FF25E17CEEC5FCD63DFACECC899913B8C7E4F59ED2249A1F35FF9355FAB68BD5FBABD8D75503D2C43CA77A76D4B31F38F9CDB8499DD857392ADC0F037691527BE0FC1F30F4DC03EEFCE068189A99BA6DAA9FA5968C6F6A5D4DBA020F74269D05289AF900681695F1AE54AD8D63BA33E60AA57460FC81E87DB0E6E4163CD57440355AF7829348C198AD7401680BD5ECEBC0DEBDCA3FB53B886E61B974104E0DFB10C873ADF318B5A774AAF964CDAC715A6AC920006D14BF338C35418A1FB30A68B4F3BD8DA43DAFDB4634F4F067AA7EC6BF3375E203BBBF5F66DD729FF6F3BC17F6022FFCB73437BE57210BC78F9A455BB94FCADBCEBE01FB85A67F21F380DDA0FF20F9102BD13EAB7420829E371608EF3E1D3A3FBC4FD6D26B9BFD3656F7439A48473396D4B73CD251F89B7A7941777072CA27E88180D8A48BA7FCAB949C679FB883669E92D59E9AA41EC33D6BB12D6F5A3F4CD68374C68D70C7CF889EF9A0C6B9BDCF6B624EDD791CDAEC8503D3805EC2049DD76DA0A4394F2345E63067A3F55681C852E79E0B566921F98722CB2C1E5FB7B160534FE38300B4B085A6D20B23F158CA1C77DFFEB3633BC8CAA884490A86A229C91DD400AD814C16542D1127894557B9090FC4F057D0541CA9A7C081FA03FC3B7298D53CAA60CC38780CB56CDC299B6F1F394775EE6F16D9CDF1B6C630A4C4C949DECDDE25F52945DBB94725F2B4EF63410599C541EC9666B49B3A3D9D5BA46FA146143A0527D7578B78021233185E416CFC113EC231BA3DE47B802DEBA4AC3D083742F04AFF6F11502D9A510293136FDD94FC6613F7CFEE9FFC564E256235B0000 , N'6.1.3-40302')

-- make DisplayedRecipeId nullable - apply full migration script
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_DisplayedRecipeId' AND object_id = object_id(N'[dbo].[RecommendationUsed]', N'U'))
    DROP INDEX [IX_DisplayedRecipeId] ON [dbo].[RecommendationUsed]

ALTER TABLE [dbo].[RecommendationUsed] ALTER COLUMN [DisplayedRecipeId] [int] NULL

CREATE INDEX [IX_DisplayedRecipeId] ON [dbo].[RecommendationUsed]([DisplayedRecipeId])

INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201611201849459_DisplayedRecipeIdNullable', N'Recipes.DAL.Migrations.Configuration',  0x1F8B0800000000000400ED5C5B6FE336167E5FA0FF41D053BB48AD5CB6C06E607790712685D1C964307606BB4F0123D10E3112A54A541063D15FD687FEA4FE8552578B3789946CC7098202C59897C3C3C3EF1C1D921FF3D71F7F8EDF3D05BEF508E3048578629F8C8E6D0B6237F4105E4DEC942C7FFCB7FDEEE7EFFE31FEE0054FD6D7AADD59D68EF6C4C9C47E20243A779CC47D800148460172E330099764E4868103BCD0393D3EFE8F7372E2402AC2A6B22C6BFC25C5040530FF417F4E43ECC288A4C0BF0E3DE8276539AD99E752AD4F208049045C38B1BF40174530195D5E7CB4AD0B1F01AAC21CFA4BDB0218870410AAE0F96D02E7240EF16A1ED102E02FD6B4CBC45E023F81A5E2E79BE6BA73383ECDE6E06C3A56A2DC3421616028F0E4AC348AC377EF655ABB361A35DB076A5EB2CE669D9B6E62CFF02A861E8298D8163FDCF9D48FB3A68C6D47B908447F6CBA1E598D0647351A2868B2FF8EAC69EA933486130C531203FFC8FA9CDEFBC8FD15AE17E137882738F5FDA69A54515AC714D0A2CF7118C198ACBFC065A5BC675B0EDBCFE13BD6DD1A7D8A49CD30393BB5AD4F747070EFC31A050D03CC4918C35F20863120D0FB0C088131CE64C0DC8EC2E8DC58D9FFABD128ECA8EBD8D63578FA08F18A3C4CEC7FFD449DE50A3D41AF2A2935B8C5887A1AED44E2144A34E446FD041ED12A57989F6BBD42B70958C1C4A6EBE4E70D93071415EE31E21ADD3511711587C197D01745355ADD2D40BC82B4F122EC6C3A0FD3D8E526307636A0D4846A2E77005EF3FE6FA0558C559BA97BD47649F3F47E4A555885F1BAC50BE83FB5BCA07DACAB18C2057C223B1FA8008DB169347C7437DE59B99C8677568EACAB7A610AA9DA45D59D1880363A2B9A08E144D56E502CA954370C2145E15BE4908FB540C46FFBDE6DC70167015DFEDBD8DFF9409F63182D68323AC3D708A72443EF9068380DC36F5B14374BBE42EA272046005792DE87D463B29F86B20A38FF0F41DFDBB955A70F70B987A50B57310802D891816D099138A1CDDC3C046E7FB061D9DD8040CC7F39BA02F68040BCB89A5D5EF58CC679DFB790DCE6D94313B9727976EC46F928A7FB19E66C8F7EDA9926E51ADD55CD78C76CD62A7C926932D41D431A36B1976B7A9B40AF8F577222DE9C533ED6254A221FACA1A7F0D28E0F2935D137655F530FA7894942401055622EE98CB2C2013B1B464115FC39A8DC719D1867686D2B738DF60EA6DB1D6EB9746724746B9D13D75A67567C179300709124A18B7259F2ACA2B9E164EDF4017B96FEEEB308B6921D2D0DBDD4FD51449786EA37B1FF292C88D640F5AE5136103FC68930060D1A30CEBC16F8D3304BE700C2448C3008530B035F5B1D4E826694CA96AB1E8BAFB984115D7D3A86B6F1B594600E7D4475EA51B970DA65B7B1D340583BF05499AA0A0C9D69EB060995E775A1A05B782BCC34F1DC0B6B1DB3DD03D03A4CA2A3C1E65BF58C0863B2ADF6F597A75E3CAECAEC583F8CB5246D3D403B004E3215F6862499715F0688DA73969655D74C60180C08E9B811CEF432A03DA24E4BA1FD60506B3574541132F14301269F7A1A00459987EE109CAA44B6139EC7A3D1EE10AAD0EA7930AA58161D6524BBCD3DE0B4D876D03E84F68071A9CB45146545F97D9D70BC40275A9E3024E5510B8FA14CE41C1221774D6C6BB3CD91EC020430AA045587A42DD2CA64AF436479F021915421594B40FEAD544B2933906E511C9C141205AFE60437965A693CE6A2B2D1A1FB5A93C7A4D13EB39EB36C3505B81BED2CA5A205A98C23D0C61A96531ED18B66D3DA2319ED921AB3AAB1DA62A7AE7D9181FD7B5B8A3D2E5519499DE6EB26FA82692A2FECB48F34B5EFB6743F8B749CA049ED6390C1F6CB61D9C98A61A7DD847A59EBBE0C2A1CE06999B435F7EA9B7D6DD7ACAA7C6B9061AB93C6FA935FD78D9D82B459168C1D05BB737C0DA208E15583ED599658F382EA39FD716E4E850C0A198E9B481891B5B6F548248C69D4E26AB35B7C0F5EA138219780807B909D874FBD4068D64870141FE56A20318711D7B0FA44577DB27F33F9457E03A3FE866E2C784527156419667E75218DD662672BA3DB021FC492BB9269E8A70156A7BBEADEC5D57CB37F51224A183B9CF642DA2A9888432B6F75C335517E654D17A6481A87AC8E42C26E96883D1566E4B49E17AB253294C0A640A6425FDE86F6D714B629D597B4D9153525A9F74ACF06CB2A24F745A3FC7BA4014255C7DD60AF24933505944506F8ADA9628C1E75A9BE240917AC295252AD2F5B420C6BCA96541B588061893156606A4CFDA4E48A89AE525618CC3EE7833113CE4B4CD686217BB1EBC2549944BE26A58B8D7CCD9A038B0AE50E655868284E13FAC60745EFDD0409F3A0AD0C37C5110A136E64A72A9D324E2542042E47A794338994B3C3829BB0FB18803AFEC4A917F83A85EC06839273D5A6308D6357B56CE1668189935DD70E2D18DBD07DD80F6C5DBC67A409BB46BE493D7ABD7BE47689E372C7D6FD5050D8C2154D6C8B1AE91179D9F66DBE4E080C465983D1FC379F5A3A3FC7AC1A5C038C96D452053DCD3E3D3E39E59E1C1ECEF33F27493C5FB2E395BF0164576C0F2C3B94D9B5934767C8666BB2BEF12388DD07104B2E1A66D8834F13FBFF79AF736BF6DFE6B16F567664CD925B8C7E4B69ED224EA1F5BBF87EAF55B5DE6FDB5EC73AC89E9221E94BD3B6A5987947D64D4CDDEEDC3ACE5660F82BB40A13DF07E0E987A6C03E2FCD0609E3D99BBAD6A9FA1958C6F46DD4EB8020F32669D052F1EF8E060953BE2DCA8DB0AD97457D84C9DE15DD237339CC76700B166BBE1B1A687AC9DBA061C890BCFF3110D8EBADCCEBF0CE3D863F496868BE6A190400F6E5CA7051673B4651EB4EE9C58249F99C421755820015BCB4E295FC7986AE2E5CF76140E71F77D0A587A4FB71C79E1E0DF426ED2BE91BCFC0CF6EBD7CDB35E9FF7553FC0752F99F1F1BCA1B9783C0C5F3D356CD48F95B79D9C1BE6835E6F21F380CDACFF10F1102BD29F55B018440781CC8723E7C78741FB8BF4E9ABB1E5CA47CF237C41823E69028E722714B71D1251E8AB793CA8BDB039A54DF8714064532DD9F74AEC3396F1FD18498DEC24B970D62CE59EFA2ACAB47E9CB69D7A4B42B063E7CEABB82636DC26E6FA369BF0C3EBB84A37A7006D8014DDD74DA124714981A2F9183DECF148A40A1A20FBC542EF98119C7800F2EDEE0D32CA0F10781695A92A0D54644F6E781317499EF7FDD668697619591701A554DB863B26B48009D22B888095A0297D06A172649FEE781BE023FA54D3E04F7D09BE19B944429A15386C1BDCFF055B374A66DFC9CF4CEEA3CBE89F29B836D4C81AA89B2C3BD1BFC3E45D9C54BA9F795E4704F2122CB93CA43D96C2D497638BB5AD7923E8558535069BE3ABD5BC0808298C0E406CFC123ECA31B85DE47B802EEBA2262A885742F046BF6F12502D9B55052CAD8F4A73F2986BDE0E9E7BF015B10D95A175B0000 , N'6.1.3-40302')


-- add RecommendedBy field to RecommendationUsed table
ALTER TABLE [dbo].[RecommendationUsed] ADD [RecommendedBy] [nvarchar](max)

INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201611201859358_AddRecommendedByField', N'Recipes.DAL.Migrations.Configuration',  0x1F8B0800000000000400ED5CDD6EE3B815BE2FD0771074D52DB2767E5A6037B0779171260B632793C1D819B4570123310E3112A595A82046D127EB451FA9AF50527F16FF2452B21D270816588C25F2E3E1E1778E0EC973F2BFFFFC77F2EB7318384F30495184A7EEC9E8D87520F6221FE1D5D4CDC8C38F3FB9BFFEF2E73F4D3EFAE1B3F3AD6A77C6DAD19E389DBA8F84C4E7E371EA3DC210A4A310794994460F64E445E118F8D1F8F4F8F8E7F1C9C9185208976239CEE46B86090A61FE83FE9C45D88331C940701DF93048CBE7F4CD2247753E8310A631F0E0D4FD0A3D14C3747479F1C9752E0204A8080B183CB80EC03822805001CF6F53B8204984578B983E00C1724DBB4CDD0710A4B014FC7CD3DC740EC7A76C0EE34DC70ACACB52128596802767A552C662F75EAA756BA551B57DA4EA256B36EB5C7553778E5709F411C4C475C4E1CE6741C29A72BA1DE51088FED8743D721A0D8E6A3650D2B0FF8E9C5916902C81530C339280E0C8F992DD07C8FB1DAE97D17788A7380B82A6985450FA8E7B401F7D49A2182664FD153E54C2FBAE33E6FB8DC58E75B7469F6252734CCE4E5DE7331D1CDC07B0664143010B1225F03788610208F4BF004260821906CCF5288D2E8CC5FE5F8D4669474DC775AEC1F3278857E471EAFEEDEFD458AED033F4AB27A504B718514BA39D4892418584C2A89FC1135AE5028B73AD57E836052B98BA749D82BC61FA88E2C23C4642A3BB2623AE9228FC1A053254A3D5DD12242B481B2FA3CEA68B284B3C610293F186948654CD7107F035EFFF4E5ACD58B59ABA476D475A64F7332AC22A4AD62D5640FF696405ED635D25102EE133D9F9400569AC556360A3BBB1CECAE40CACB3326453D10B5528C52E5EDDC90E6823B3A689E44E74ED06F9924A744B17523C7CF71CEAB19688046DDFBBED18E03CA4CB7F9B043B1FE84B02E3250D46E7F81AE18C30F60EF186B328FABE45B879FA0D523B010902B842FA10518B613F2DB10A3AFF13C1C0DFB956678FF0610F4B17AD121086B02302DB1223714A9B79B90BDCFE60C3A2BB018E58FC727439EC018E787935BFBCEAE98DF3BEEF2EB9CDB2870672E5F2ECD88CF2514EF733CCD91EEDB4334CCA25BAAB9A8986D97CABB149AEC950738CA8DBC47E2EE96D0AFD3E562940BC1BA77AAC4B94C60158435F63A51D1F52AAA2EFDABEF61140B168D0FFB0FBCD1A0B835202C2B81AE992EA8F3D1CB08FE2D4A133368198774227CEF45ADBAA0CB1BD83EDE64A2087E98CA46EAD73125A9BCC4AEC62E36E2ED234F2508EA58E619ADB5B5E4F1FB1EF98EF750BFA2AF6CF94CCD4D9A0982E0D956FEAFE555A10A381EA3DAA6A20718C13690CEAA260C27C040866110B1E01C244F66708530D83C0581C01C1D027B2E5AAC712DF5CC29839054C8C956F240477C4248B538F2A38EF2EBD4DC60D86B5134F1717EBC8D019246F9850595E170BBAC15B6966C8E75E5CEB98ED1E88D6A1121309365FC617641817DBB5AFBF3AD0137955C6E2E66EAC2544EC41DA01745289B03726A994FB3A48D41EB3B4ACBA6100C371400AFEAD78661601ED91754602ED878346AB61228A14F71F0A31C5D0D38228DA387487E4D405B29DF43C1E8D76C7508D542FC351CDB29808A3D8DBEE81A7C5B683F621B4074C4A592EE2983DCA6F07A5C30C3AD1F23C232D37AF228718E4021229764D5D67B3CD51EC022432EA80AA23D916B432D8EB802C8F59144815938D00F26FA51EA58C40BAA1043A691025AB16801B4BAD551E772DDAE8D07D892A72D26A9F59CF59B59A12DDAD76964A6809953304DAD84073DA0B01596D467B24AB5D52635635575BF4D4B52FB2D07F6F4DF187B33A25E9C37CD3405F524D65859DFA5186F6DD9AEEA7918E1334A57E2C22D87E312C3F59D9EDB4ABD02C6ADD9742A5033C2395B6C65E7DA3AFEDAA55176F0D526C75D2587FF2EB77937191225A3E988C35B9A4936B10C708AF1AB9A5E51367512496CE7E5CD8275E8605C6D84B15F997B5B4F548244AA8D712DEB29C011F5EA124259780807BC0CEC3677E28356B04389A8F7235901CC3C86B587DA2AB3EECDF5C7C91DFF7E8BFA11B0D5ED149852CC2CC2F4A94DE5AEEECB0E45E1080447133338B822CC4FA7057DFBB480468F62F9EC80893B120BD14B64A2A12D82A6ADD724DB45F59DB852982C621ABA341D8CD12F1A7C21C4EEB79B11E914B406C02722FCCF13649864DB0CD5373A4CDAEA889A4DF2BBD182D2B97DC978DEAEF910109751D77C3BD3275AD09503EB2E06F9D98C6C9513F354752649E352115AFCDB11569684D6CC56B0B0D7039699C16B837B6765266A6C9A652BEB0987D9E7DC64D387F62B3365C6A19BF2EDC2B1BCFD74C20E33D5FF3CD817985728732CC3514A7097DFD83A6F76E9C84BDD3D6BA9BE208857337AA53954E8C5305889439D28972A640393B2CBA49BB8F01AC134F9C7A91AF1364371C549CAB36C10C8E5DF5D8D2CD02E727BBAE1DF4B8427291603CCD57361FEC3A8588FF68D78FF7CC5E69272A36A947AF77A4C2CE7352EE02BB4B1DA56D61D1C475A8929E90CFB6848B754A6038620D468B3F02BA7AF9D968D5E01A60F440355524D8B9A7C727A742D1E4E114308ED3D40F14BB68751523BF627BC813444CAF9D998096F978CDBC75FC0412EF11248ACB8B39359CE7A9FBAFBCD7B933FF47F328993D3B72E6E92D467F64F4ED32C9A0F36FB902B155B4DED5796F631D54C57048592BDBB61473FFC8B949A8D99D3BC76C0586D7D1559CF84B089E7F6802F6A9951B04B6F920D869A7EA67A119DBEAAEB74141AEAA6AD05289955383C0B4D551B912B6551BD5074C5519758FEC71B82DE61634D6AC7C1AA87A4575D33066282A982C007B55FBBC0DEBDCA3FB53B886665DCE2002F0B537C3A1CE76CCA2D6DDD7AB2593B620C4945512808E5E46FE4A5D60622A8BD07D10D1856DE236582A96A0503241D25D82B2A7D286DEA505DA249317C8226FBD22DC7569C2DB2E44185870F0F2DCD0DE0B1D042F5E3EB9D6AE74602BF5277C95AF75C5C181D3A0FDB6E11029D03BF17F2B8490D23207E6621F3E3DBAAF05DE6632BE195D9459EFEF8CB166CC2125C6CBE965E2F2EA52D63B52DF8BFB081A54DF4794064530DD3F35DE2433BE7D449BF4F996EC79D520F699F55D89F5FA51FA66DE1B26DE6B063EFC047D4D26B84D0E7E5B32F9EBC8BA5764D21E9C0276904C6F3B6D85214AF924AF3153BE9F2A348E4297E4F05A33DE0F4C391659EB724E008D021A7F24998625295A6D20D89F4CC6D0E3BEFF759B397E88AA884490A86A221C935D4302E814C14542D003F0087DEDC134CDFF2CCC371064B4C9C7F01EFA737C9391382374CA30BC0FB8540E16CEB48D9FA7E6F3324F6EE2FC2E621B53A0622276B877833F64885DE594725F290EF734102C4E2A8F79D95A1276DCBB5AD7489F236C0854AAAF0EEF9630A4242630BDC10BF004FBC846A9F709AE80B7AE523BF420DD0BC1AB7D728900BB684A4B8C4D7FFA9372D80F9F7FF93FD48505602B5C0000 , N'6.1.3-40302')




delete from __MigrationHistory;


-- try clicking on some recommendation on web and make sure it works by executing following line
select * from RecommendationUsed;